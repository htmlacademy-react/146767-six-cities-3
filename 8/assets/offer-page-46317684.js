import{j as e,M as m,r as d,O as w,u as g,N as b,W as y,H as k,c as P,a as R,b as C,C as T}from"./index-4acfd7b5.js";function F({date:r,userName:s,avatarUrl:i,isPro:n,comment:l,rating:a}){const t=new Date(r);return e.jsxs("li",{className:"reviews__item",children:[e.jsxs("div",{className:"reviews__user user",children:[e.jsx("div",{className:"reviews__avatar-wrapper user__avatar-wrapper",children:e.jsx("img",{className:"reviews__avatar user__avatar",src:i,width:"54",height:"54",alt:"Reviews avatar"})}),e.jsx("span",{className:"reviews__user-name",children:s}),n&&e.jsx("span",{className:"offer__user-status",children:"Pro"})]}),e.jsxs("div",{className:"reviews__info",children:[e.jsx("div",{className:"reviews__rating rating",children:e.jsxs("div",{className:"reviews__stars rating__stars",children:[e.jsx("span",{style:{width:`${a*(100/m)}%`}}),e.jsx("span",{className:"visually-hidden",children:"Rating"})]})}),e.jsx("p",{className:"reviews__text",children:l}),e.jsx("time",{className:"reviews__time",dateTime:t.toISOString().slice(0,10),children:t.toLocaleDateString("en-US",{year:"numeric",month:"long"})})]})]})}function I({comments:r}){return e.jsx("ul",{className:"reviews__list",children:r.map(s=>e.jsx(F,{date:s.date,userName:s.user.name,avatarUrl:s.user.avatarUrl,isPro:s.user.isPro,comment:s.comment,rating:s.rating},s.id))})}function O(){const[r,s]=d.useState({review:"",rating:""}),i=l=>{const{name:a,value:t}=l.target;s({...r,[a]:t})},n=()=>w.map(({title:l,rating:a})=>e.jsxs(d.Fragment,{children:[e.jsx("input",{className:"form__rating-input visually-hidden",id:`${a}-stars`,name:"rating",value:a,type:"radio",onChange:i}),e.jsx("label",{className:"reviews__rating-label form__rating-label",htmlFor:`${a}-stars`,title:l,children:e.jsx("svg",{className:"form__star-image",width:"37",height:"33",children:e.jsx("use",{xlinkHref:"#icon-star"})})})]},a));return e.jsxs("form",{className:"reviews__form form",action:"#",method:"post",children:[e.jsx("label",{className:"reviews__label form__label",htmlFor:"review",children:"Your review"}),e.jsx("div",{className:"reviews__rating-form form__rating",children:n()}),e.jsx("textarea",{className:"reviews__textarea form__textarea",id:"review",name:"review",value:r.review,placeholder:"Tell how was your stay, what you like and what can be improved",onChange:i}),e.jsxs("div",{className:"reviews__button-wrapper",children:[e.jsxs("p",{className:"reviews__help",children:["To submit review please make sure to set  ",e.jsx("span",{className:"reviews__star",children:"rating"})," and describe your stay with at least  ",e.jsx("b",{className:"reviews__text-amount",children:"50 characters"}),"."]}),e.jsx("button",{className:"reviews__submit form__submit button",type:"submit",disabled:!0,children:"Submit"})]})]})}function H({offers:r,fullOffer:s,comments:i}){const{id:n}=g();if(!(n===s.id))return e.jsx(b,{to:"*"});const{title:a,type:t,isPremium:h,isFavorite:f,rating:o,description:x,price:v,bedrooms:j,goods:u,host:_,images:p,maxAdults:N}=s;return e.jsxs("div",{className:"page",children:[e.jsx(y,{children:e.jsx("title",{children:"6 cities | Предложения"})}),e.jsx(k,{}),e.jsxs("main",{className:"page__main page__main--offer",children:[e.jsxs("section",{className:"offer",children:[e.jsx("div",{className:"offer__gallery-container container",children:e.jsx("div",{className:"offer__gallery",children:p.map(c=>e.jsx("div",{className:"offer__image-wrapper",children:e.jsx("img",{className:"offer__image",src:c,alt:"Photo studio"})},c))})}),e.jsx("div",{className:"offer__container container",children:e.jsxs("div",{className:"offer__wrapper",children:[h&&e.jsx("div",{className:"offer__mark",children:e.jsx("span",{children:"Premium"})}),e.jsxs("div",{className:"offer__name-wrapper",children:[e.jsx("h1",{className:"offer__name",children:a}),e.jsxs("button",{className:P("offer__bookmark-button button",f&&"offer__bookmark-button--active"),type:"button",children:[e.jsx("svg",{className:"offer__bookmark-icon",width:"31",height:"33",children:e.jsx("use",{xlinkHref:"#icon-bookmark"})}),e.jsx("span",{className:"visually-hidden",children:"To bookmarks"})]})]}),e.jsxs("div",{className:"offer__rating rating",children:[e.jsxs("div",{className:"offer__stars rating__stars",children:[e.jsx("span",{style:{width:`${o*(100/m)}%`}}),e.jsx("span",{className:"visually-hidden",children:"Rating"})]}),e.jsx("span",{className:"offer__rating-value rating__value",children:o})]}),e.jsxs("ul",{className:"offer__features",children:[e.jsx("li",{className:"offer__feature offer__feature--entire",children:t.charAt(0).toUpperCase()+t.slice(1)}),e.jsxs("li",{className:"offer__feature offer__feature--bedrooms",children:[j," Bedrooms"]}),e.jsxs("li",{className:"offer__feature offer__feature--adults",children:["Max ",N," adults"]})]}),e.jsxs("div",{className:"offer__price",children:[e.jsxs("b",{className:"offer__price-value",children:["€",v]}),e.jsx("span",{className:"offer__price-text",children:" night"})]}),e.jsxs("div",{className:"offer__inside",children:[e.jsx("h2",{className:"offer__inside-title",children:"What's inside"}),e.jsx("ul",{className:"offer__inside-list",children:u.map(c=>e.jsx("li",{className:"offer__inside-item",children:c},c))})]}),e.jsxs("div",{className:"offer__host",children:[e.jsx("h2",{className:"offer__host-title",children:"Meet the host"}),e.jsxs("div",{className:"offer__host-user user",children:[e.jsx("div",{className:"offer__avatar-wrapper offer__avatar-wrapper--pro user__avatar-wrapper",children:e.jsx("img",{className:"offer__avatar user__avatar",src:_.avatarUrl,width:"74",height:"74",alt:"Host avatar"})}),e.jsx("span",{className:"offer__user-name",children:_.name}),_.isPro&&e.jsx("span",{className:"offer__user-status",children:"Pro"})]}),e.jsx("div",{className:"offer__description",children:e.jsx("p",{className:"offer__text",children:x})})]}),e.jsxs("section",{className:"offer__reviews reviews",children:[e.jsxs("h2",{className:"reviews__title",children:["Reviews · ",e.jsx("span",{className:"reviews__amount",children:i.length})]}),e.jsx(I,{comments:i}),e.jsx(O,{})]})]})}),e.jsx("section",{className:"offer__map map",children:e.jsx(R,{startPoint:s.city,points:r.slice(0,3),selectedPointId:s.id})})]}),e.jsx("div",{className:"container",children:e.jsxs("section",{className:"near-places places",children:[e.jsx("h2",{className:"near-places__title",children:"Other places in the neighbourhood"}),e.jsx(C,{offers:r.slice(0,3),cardClassName:T.OfferPageCardType})]})})]})]})}export{H as default};
