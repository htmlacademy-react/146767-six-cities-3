import{r,b,u as L,G as A,R as F,j as s,I as P,H as E,W as q,q as C,L as T,A as z,v as R,F as v}from"./index-d4898d83.js";const Z=a=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a),D=a=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{2,}$/.test(a);function M(){const[a,c]=r.useState({email:"",password:""}),[o,i]=r.useState({email:!1,password:!1}),{email:n,password:l}=a,{email:m,password:p}=o,y=b(),u=L(A)===F.Loading,g=Z(n),h=D(l),_=n==="",x=l==="",d=g&&h,j=e=>{const{name:t,value:w}=e.target;c({...a,[t]:w})},f=e=>{const{name:t}=e.target;i({...o,[t]:!0})},N=e=>{const{name:t}=e.target;i({...o,[t]:!1})},S=e=>{e.preventDefault(),d&&y(P({login:n,password:l}))};return s.jsxs("section",{className:"login",children:[s.jsx("h1",{className:"login__title",children:"Sign in"}),s.jsxs("form",{className:"login__form form",action:"#",method:"post",onSubmit:S,children:[s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"E-mail"}),s.jsx("input",{className:"login__input form__input",type:"email",name:"email",placeholder:"Email",required:!0,value:n,onFocus:f,onBlur:N,onChange:j})]}),s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"Password"}),s.jsx("input",{className:"login__input form__input",type:"password",name:"password",placeholder:"Password",required:!0,value:l,onFocus:f,onBlur:N,onChange:j})]}),s.jsx("button",{className:"login__submit form__submit button",type:"submit",disabled:!d||u,children:u?"Loading…":"Sign in"}),!d&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{paddingTop:"10px",color:"red",fontStyle:"oblique"},children:[s.jsx("span",{children:!g&&!_&&m&&"Введен не корректный e-mail"}),s.jsx("span",{children:!h&&!x&&p&&"Пароль должен состоять минимум из одной буквы и цифры"})]}),s.jsx("div",{style:{paddingTop:"10px",color:"gray",fontWeight:"bold",fontStyle:"oblique",opacity:"0.6"},children:s.jsx("span",{children:(_||x)&&(m||p)&&"Заполните все поля"})})]})]})]})}function H(){const a=r.memo(E),c=r.memo(M),o=Math.floor(Math.random()*v.length),i=v[o],n=b();return s.jsxs("div",{className:"page page--gray page--login","data-testid":"login-page",children:[s.jsx(q,{children:s.jsx("title",{children:C.LoginPage})}),s.jsx(a,{hiddenUserNav:!0}),s.jsx("main",{className:"page__main page__main--login",children:s.jsxs("div",{className:"page__login-container container",children:[s.jsx(c,{}),s.jsx("section",{className:"locations locations--login locations--current",children:s.jsx("div",{className:"locations__item",children:s.jsx(T,{className:"locations__item-link",to:z.Root,onClick:()=>n(R(i)),children:s.jsx("span",{children:i})})})})]})})]})}export{H as default};
